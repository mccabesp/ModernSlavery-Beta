@*This template is taken from https://github.com/alphagov/finder-frontend/blob/master/app/views/components/_option-select.html.erb*@

@model FilterGroup
@{
    var maxHeight = string.IsNullOrWhiteSpace(Model.MaxHeight) ? "100%" : Model.MaxHeight;
    var queryLookup = Context.Request.Query[Model.Group];
}

<div class="app-c-option-select js-collapsible" data-module="option-select" data-closed-on-load="@(Model.Expanded ? "false" : "true")" aria-describedby="checkboxes-@(Model.Id)-count"
     data-filter-element="@(@$"<input id='input-select-filter' class='app-c-option-select__filter-input govuk-input' type='text' aria-describedby='checkboxes-{Model.Id}-count' aria-controls='checkboxes-{Model.Id}'>")">
    <h2 class="app-c-option-select__heading js-container-heading">
        <span class="app-c-option-select__title js-container-button" id="@Model.Label">@Model.Label</span>
        <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="app-c-option-select__icon app-c-option-select__icon--up" aria-hidden="true" focusable="false"><path d="m798.16 609.84l-256-256c-16.683-16.683-43.691-16.683-60.331 0l-256 256c-16.683 16.683-16.683 43.691 0 60.331s43.691 16.683 60.331 0l225.84-225.84 225.84 225.84c16.683 16.683 43.691 16.683 60.331 0s16.683-43.691 0-60.331z" /></svg>
        <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="app-c-option-select__icon app-c-option-select__icon--down" aria-hidden="true" focusable="false"><path d="m225.84 414.16l256 256c16.683 16.683 43.691 16.683 60.331 0l256-256c16.683-16.683 16.683-43.691 0-60.331s-43.691-16.683-60.331 0l-225.84 225.84-225.84-225.84c-16.683-16.683-43.691-16.683-60.331 0s-16.683 43.691 0 60.331z" /></svg>
    </h2>
    <div role="group" aria-labelledby="option-select-title-3" class="app-c-option-select__container js-options-container" id="@(Model.Id)" tabindex="-1" style="max-height: @(maxHeight)">
        <div class="app-c-option-select__container-inner js-auto-height-inner">
            <span id="checkboxes-@(Model.Id)-count" class="app-c-option-select__count govuk-visually-hidden" aria-live="polite" data-single="option found" data-multiple="options found" data-selected="selected"></span>

            <div id="checkboxes-@(Model.Id)" class="gem-c-checkboxes govuk-form-group govuk-checkboxes--small" data-module="govuk-checkboxes">
                <fieldset class="govuk-fieldset">
                    <ul class="govuk-checkboxes gem-c-checkboxes__list">
                        @foreach (var item in Model.Metadata)
                        {
                            <li class="govuk-checkboxes__item">
                                <input type="checkbox" name="@(Model.Group)" id="@(item.Id)" value="@(item.Value)" checked="@(item.Checked)" class="govuk-checkboxes__input" />
                                <label for="@(item.Id)" class="govuk-label govuk-checkboxes__label">@item.Label</label>
                            </li>
                        }
                    </ul>
                </fieldset>
            </div>

        </div>
    </div>
</div>





