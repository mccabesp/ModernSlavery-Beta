@{
    Layout = "~/Views/GdsLayout.cshtml";
    ViewBag.Title = "Search for your organisation - Modern Slavery reporting service";
}
@model OrganisationViewModel
@section BeforeMain {
    <a class="govuk-back-link" href="@Url.Action("OrganisationType")">Back</a>
}

<div id="organisation-search-content" class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()
            @Html.HiddenFor(m => m.SectorType)
            @Html.HiddenFor(model => model.RegistrationType)
            @Html.HiddenFor(m => m.ManualRegistration)
                      
            @await Html.GovUkValidationSummaryAsync()
            <h1 class="govuk-heading-l">
                Find your organisation
            </h1>
            @Html.ValidationMessageFor(model => model.SearchText, null, new { @class = "govuk-error-message" })

            <div class="gov-uk-c-searchbar govuk-!-margin-bottom-8">
                <div class="gov-uk-l-searchbar__table">
                    <div class="gov-uk-l-searchbar__cell">
                        <label for="SearchText"></label>
                        @Html.CustomEditorFor(model => model.SearchText, new { @class = "gov-uk-c-searchbar__input", placeholder = Model.SectorType == SectorTypes.Public ? "Organisation name" : "Organisation name or company no" })
                    </div>
                    <div class="gov-uk-l-searchbar__cell">
                        <button class="gov-uk-c-searchbar__submit gov-uk-c-searchbar__submit--blue" id="NextStep" name="command" value="search" title="Search" type="submit">Search</button>
                    </div>
                </div>
            </div>

            @if (!string.IsNullOrWhiteSpace(Model.SearchText) && Model.Organisations != null && Model.Organisations.Results.Count < 1)
            {
                <div class="govuk-form-group">
                    <h2 class="govuk-heading-m">0 organisations found that match your search</h2>
                    <span>Please try:</span>
                    <ul class="govuk-list govuk-list--bullet">
                        <li>checking the spelling</li>
                        <li>searching again using a different organisation name</li>

                    </ul>
                    <details class="govuk-details" data-module="govuk-details">
                        <summary class="govuk-details__summary">
                            <span class="govuk-deatils__summary-text">Can't find your organisation?</span>
                        </summary>
                        <div class="govuk-details__text" id="details-content-0">
                            @Html.ActionLink("Tell us about your organisation", "AddOrganisation")
                        </div>
                    </details>
                </div>
            }
           
        }
    </div>
</div>