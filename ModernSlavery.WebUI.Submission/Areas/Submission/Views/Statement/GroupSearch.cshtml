@{
    Layout = "/Views/GdsLayout.cshtml";
}
@model GroupSearchViewModel
@section BeforeMain{ 
@if (!string.IsNullOrWhiteSpace(Model.BackUrl))
{
    <a class="govuk-back-link" href="@Model.BackUrl">Back</a>
}
}

@using (Html.BeginForm())
{
    @await Html.GovUkValidationSummaryAsync();
    @Html.AntiForgeryToken();

    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
            <h1 class="govuk-heading-l">
                @Model.PageTitle
            </h1>           
        </div>
</div>
                <partial name="GroupSearch/_SearchHeader" model="Model" />

                <partial name="GroupSearch/_SearchKeywords" model="Model" />

                @if (!Model.GroupResults.ShowResults)
                {
                    <partial name="GroupSearch/_NewOrganisation" model="Model" />
                }
                else if (Model.GroupResults?.ResultsPage != null && !string.IsNullOrWhiteSpace(Model.GroupResults.SearchKeywords))
                {
                    <partial name="GroupSearch/_SearchResults" model="Model" />
                }

                <button class="govuk-button govuk-!-margin-right-1" data-module="govuk-button" type="submit" name="command" value="@BaseViewModel.CommandType.Continue">
                    Continue
                </button>

                <button class="govuk-button govuk-button--secondary" data-module="govuk-button" type="submit" name="command" value="@BaseViewModel.CommandType.Cancel">
                    Cancel
                </button>
            }
     
