@{
    Layout = "/Views/GdsLayout.cshtml";
    var yourStatementComplete = Model.YourStatement.IsComplete();
    var complianceComplete = Model.Compliance.IsComplete();
    var organisationComplete = Model.Organisation.IsComplete();
    var policiesComplete = Model.Policies.IsComplete();
    var risksComplete = Model.Risks.IsComplete();
    var diligenceComplete = Model.DueDiligence.IsComplete();
    var trainingComplete = Model.Training.IsComplete();
    var progressComplete = Model.Progress.IsComplete();

}
@model ReviewPageViewModel
<a class="govuk-back-link" href="@Model.BackUrl">Back</a>
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        @using (Html.BeginForm())
        {
            @await Html.CustomValidationSummaryAsync();
            @Html.AntiForgeryToken();

            <h1 class="govuk-heading-l">
                @Model.PageTitle
            </h1>

            @*//TODO: get the correct text based on sections completed*@
            <p class="govuk-body govuk-!-margin-bottom-7">@Model.SubTitle</p>

            <h2 class="govuk-heading-m">
                <span class="app-task-list__section-number">1. </span> Required information about your statement
            </h2>
            <ul class="govuk-list govuk-list--spaced">
                <li>
                    <a class="govuk-link" href="@Model.YourStatementUrl" aria-describedby="slavery-statement">
                        Your modern slavery statement
                    </a>
                    <strong class="govuk-tag @(yourStatementComplete ? "" : "govuk-tag--grey")" id="slavery-statement">@(yourStatementComplete ? "COMPLETED" : "NOT COMPLETED")</strong>
                    <hr class="govuk-section-break govuk-section-break--visible">
                </li>
                <li>
                    <a class="govuk-link" href="@Model.ComplianceUrl" aria-describedby="compliance">
                        Areas covered by your modern statement
                    </a>
                    <strong class="govuk-tag @(complianceComplete ? "" : "govuk-tag--grey")" id="compliance">@(complianceComplete ? "COMPLETED" : "NOT COMPLETED")</strong>
                    <hr class="govuk-section-break govuk-section-break--visible">
                </li>
            </ul>

            <h2 class="govuk-heading-m">
                <span class="app-task-list__section-number">2. </span> Additional information about your statement
            </h2>
            <ul class="govuk-list govuk-list--spaced">
                <li>
                    <a class="govuk-link" href="@Model.OrganisationUrl" aria-describedby="organisation">
                        Your Organisation
                    </a>
                    <strong class="govuk-tag @(organisationComplete ? "" : "govuk-tag--grey")" id="organisation">@(organisationComplete ? "COMPLETED" : "NOT COMPLETED")</strong>
                    <hr class="govuk-section-break govuk-section-break--visible">
                </li>
                <li>
                    <a class="govuk-link" href="@Model.PoliciesUrl" aria-describedby="Policies">
                        Policies
                    </a>
                    <strong class="govuk-tag @(policiesComplete ? "" : "govuk-tag--grey")" id="policies">@(policiesComplete ? "COMPLETED" : "NOT COMPLETED")</strong>
                    <hr class="govuk-section-break govuk-section-break--visible">
                </li>
                <li>
                    <a class="govuk-link" href="@Model.RisksUrl" aria-describedby="supply-risks-part-1">
                        Supply chain risks and due diligence (part 1)
                    </a>
                    <strong class="govuk-tag @(risksComplete ? "" : "govuk-tag--grey")" id="supply-risks-part-1">@(risksComplete ? "COMPLETED" : "NOT COMPLETED")</strong>
                    <hr class="govuk-section-break govuk-section-break--visible">
                </li>
                <li>
                    <a class="govuk-link" href="@Model.DueDiligenceUrl" aria-describedby="supply-risks-part-2">
                        Supply chain risks and due diligence (part 2)
                    </a>
                    <strong class="govuk-tag @(diligenceComplete ? "" : "govuk-tag--grey")" id="supply-risks-part-2">@(diligenceComplete ? "COMPLETED" : "NOT COMPLETED")</strong>
                    <hr class="govuk-section-break govuk-section-break--visible">
                </li>
                <li>
                    <a class="govuk-link" href="@Model.TrainingUrl" aria-describedby="training">
                        Training
                    </a>
                    <strong class="govuk-tag @(trainingComplete ? "" : "govuk-tag--grey")" id="training">@(trainingComplete ? "COMPLETED" : "NOT COMPLETED")</strong>
                    <hr class="govuk-section-break govuk-section-break--visible">
                </li>
                <li>
                    <a class="govuk-link" href="@Model.ProgressUrl" aria-describedby="monitoring-progress">
                        Monitoring Progress
                    </a>
                    <strong class="govuk-tag @(progressComplete ? "" : "govuk-tag--grey")" id="monitoring-progress">@(progressComplete ? "COMPLETED" : "NOT COMPLETED")</strong>
                    <hr class="govuk-section-break govuk-section-break--visible">
                </li>
            </ul>


            @if (Model.HasChanged())
            {
                <button class="govuk-button" data-module="govuk-button" disabled="@Model.IsComplete()" name="command" value="@BaseViewModel.CommandType.Submit">
                    Confirm and Submit
                </button>
                <button class="govuk-button" data-module="govuk-button" value="@BaseViewModel.CommandType.SaveAndExit">
                    Exit and save changes
                </button>
                <button class="govuk-button govuk-button--secondary" name="command" value="@BaseViewModel.CommandType.DiscardAndExit">
                    Exit and lose changes
                </button>
            }
            else
            {
                <button class="govuk-button govuk-button--secondary" name="command" value="@BaseViewModel.CommandType.DiscardAndExit">
                    Exit with no changes
                </button>
            }
        }
    </div>
</div>



